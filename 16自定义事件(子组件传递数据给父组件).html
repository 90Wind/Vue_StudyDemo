<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>组件</title>
</head>
<body>
	<!--
	自定义事件
		我们知道，父组件是使用 props 传递数据给子组件，但如果子组件要把数据传递回去，应该怎样做？那就是自定义事件！
	
		父级获取子级数据
		 *子组件把自己的数据,发送到父级
		 * vm.$emit(事件名,数据)
		 * 接收
		 * v-on:  或 @ 的方式;
	-->
	<div id="counter-event-example">
	  <p>{{ total }}</p>
	  <button-counter v-on:increment="incrementTotal"></button-counter>
	  <button-counter v-on:increment="incrementTotal"></button-counter>
	</div>

	<script src='https://vuejs.org/js/vue.js'></script>
	<script>
		Vue.component('button-counter', {
		  template: '<button v-on:click="increment">{{ counter }}</button>',
		  data: function () {
		    return {
		      counter: 0
		    }
		  },
		  methods: {
		    increment: function () {
		      this.counter += 1
		      this.$emit('increment',this.counter);
		    }
		  },
		})
		new Vue({
		  el: '#counter-event-example',
		  data: {
		    total: 0
		  },
		  methods: {
		    incrementTotal: function () {
		      this.total += 1
		    }
		  }
		})
	</script>
</body>
</html>